Modernizr.load({test:Modernizr.localstorage,yep:"{{ constants.base_js }}retina.min.js"}),function(e,o,s){var a=e.routes;a.base="{{ constants.base_url }}",a.course.path=a.base+"courses/{{ coursepath }}/",a.course.img=a.base+"images/",a.course.resources=a.course.path+"resources/",a.course.images=a.course.resources+"images/"}(window),$(function(){var e="elmo_ajax_ws.php?request=";$.ajaxSetup({global:!0,beforeSend:function(o,s){var a=s.url,t=a.split("/client_api");1===$(t).length&&(t=null),null!==t?s.url=e+t[1]:0===a.indexOf("{{ constants.elmo_env }}")&&(s.url=e+a)}}),null!==typeof $.fn.elmo_multipleChoice,0||$(".question").elmo_multipleChoice({imagePath:window.routes.img,courseImages:window.routes.course.images});var o=$(".reset_button"),s=function(){o.on("click",function(){o.unbind("click");$.ajax({type:"POST",url:"elmo_ajax_ws_reset.php",data:{course_path:"{{ coursepath }}",user_id:"{{ page_data.data.cert_data.user_id }}"},success:function(e,a){console.log(e),1==e?(o.parents(".modal").modal("hide"),window.location.href="{{ content_url }}",s()):(o.parents(".modal").modal("hide"),alert("Sorry something went wrong. This course assessment could not be reset."),s())}})})};s()});